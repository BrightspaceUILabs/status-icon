language: node_js
node_js: node
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:headless || travis_terminate 1;
  fi
after_success:
- frauci-update-version -d=skip && export TRAVIS_TAG=$(frauci-get-version)
env:
  global:
  - SAUCE_USERNAME: Desire2Learn
  # SAUCE_ACCESS_KEY
  - secure: eppKo+hx7CXWT+9pqNRVkt0Wr4fXwS2MoQuKIYvtvRnKjO+SayjH0FbFn/eNqyyqosRjeO2CB11iRIv9YbPLiJfFeuOnmSKGVjwQ4wLob9pH/hAyl3/rBbjOJMER5Opx4tHktsJ7Uk6WycIUHhHaF6vuC3PpVE9aTFoShlGEbIl600cCX+FO8IoT/3vJDxM0X5HGbfZlaJvs1CCtJt1mPhhWmcuaVvLXYYWLAWPwyAmbgbw1fMcoID4AlMcxKuYpXNulkdh1GGqXEL0elW6dqIN5QJYbz2ae11PUeJ13yMAMKcJ4MEJWGlcd2wsXppVmiA2JVqw4n4XySLi9dhpZYEcxUubutA+kXdh2Vp7uTX1SmvRoYMwbrQGT5DWATTqJpM8EduSm2ansg9Exh+reRslz2pWzkBRSGg5G4LmRDAHzaoMM4nq7UlJWuiuhQJMxa+lCIN0U0j42sV9UQjPKZWNaLPvOlcKdJXA6vmh2tw5UH4yfCreZbOeGGgGXZJrGXNkgNY1sqSSXdazq2R3BY2JMtS0pmq+SJ4VOYdbI8y6TM4d4O4vU7sDwmT4e30NfNpMZ/U2NdvbaJq/DlUp9JGSGftL56SeaTU65nxLqbSyX1++l53Mtjds5QTbo7DWLbMwN/16UHRGOngWD5V8SRnN1SwfoqWPeM9JDg2xwaVY=
